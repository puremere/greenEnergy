@model greenEnergy.ViewModel.pageSectionVM


@{
    ViewBag.Title = ViewBag.metaTitle;
    Layout = "~/Views/Shared/" + @System.Configuration.ConfigurationManager.AppSettings["name"] + "/Layouts/" + @ViewBag.layout;
}


@section heading{

    @{
        if (Model.Metas != null)
        {
            if (Model.Metas.Count() > 0)
            {
                foreach (var item in Model.Metas)
                {
                    <meta name="@item.Name" content="@item.Content" />
                }
            }
        }


    }


}



@if (Model.Contents != null)
{
    greenEnergy.ViewModel.partialSectionVM data = new greenEnergy.ViewModel.partialSectionVM();
    data.list = Model.Contents;

    foreach (var item in Model.Contents.Where(x=>x.parentID == null))
    {
        data.itemModel = item;
        string partialPath = "/Views/Shared/" + @System.Configuration.ConfigurationManager.AppSettings["name"] + "/Sections/" + item.partialName + ".cshtml";

        @Html.RenderPartial(partialPath, item);

    }
}
